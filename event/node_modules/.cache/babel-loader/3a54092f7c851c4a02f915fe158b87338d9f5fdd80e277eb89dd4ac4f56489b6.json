{"ast":null,"code":"import Header from\"../../components/header/Header\";import Footer from\"../../components/footer/Footer\";import Cadastro from\"../../components/cadastro/Cadastro\";import Lista from\"../../components/lista/Lista\";import Banner from\"../../assets/img/evento.png\";import api from\"../../Services/services\";import{useEffect,useState}from\"react\";import Swal from'sweetalert2';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CadastroTipoEvento=()=>{const[tipoEvento,setTipoEvento]=useState(\"\");const[listaTipoEvento,setListaTipoEvento]=useState([]);// const [atualizaTipoEvento, setAtualizarTipoEvento] = useState(false);\nfunction alertar(icone,mensagem){const Toast=Swal.mixin({toast:true,position:\"top-end\",showConfirmButton:false,timer:3000,timerProgressBar:true,didOpen:toast=>{toast.onmouseenter=Swal.stopTimer;toast.onmouseleave=Swal.resumeTimer;}});Toast.fire({icon:icone,title:mensagem});}async function cadastrarTipoEvento(evt){evt.preventDefault();if(tipoEvento.trim()!==\"\"){try{await api.post(\"tiposEventos\",{tituloTipoEvento:tipoEvento});alertar(\"success\",\"Sucesso! Cadastro realizado com sucesso!\");setTipoEvento(\"\");}catch(error){console.log(error);}}else{alertar(\"error\",\"Erro! Preencha os campos\");}}async function listarTipoEvento(){try{const resposta=await api.get(\"tiposEventos\");setListaTipoEvento(resposta.data);}catch(error){console.error(error);}}async function excluirTipoEvento(idTipoEvento){const swalWithBootstrapButtons=Swal.mixin({customClass:{confirmButton:\"btn btn-success\",cancelButton:\"btn btn-danger\"},buttonsStyling:true});const result=await swalWithBootstrapButtons.fire({title:\"Você tem certeza?\",text:\"Não será possível reverter!\",icon:\"warning\",showCancelButton:true,confirmButtonText:\"Sim, deletar!\",cancelButtonText:\"Cancelar\",reverseButtons:true});if(result.isConfirmed){try{await api.delete(`tiposEventos/${idTipoEvento.idTipoEvento}`);swalWithBootstrapButtons.fire(\"Deletado!\",\"O evento foi deletado com sucesso.\",\"success\");listarTipoEvento();}catch(error){console.log(error);Swal.fire(\"Erro!\",\"Não foi possível deletar o evento.\",\"error\");}}else if(result.dismiss===Swal.DismissReason.cancel){swalWithBootstrapButtons.fire(\"Cancelado\",\"O evento não foi deletado.\",\"error\");}}async function atualizarTipoEvento(tipoEvento){console.log(tipoEvento);const{value:novoTipoEvento}=await Swal.fire({title:\"Digite o novo gênero\",input:\"text\",inputLabel:\"Novo gênero\",inputValue:tipoEvento.tituloTipoEvento,showCancelButton:true,inputValidator:value=>{if(!value){return\"O campo não pode estar vazio!\";}}});if(novoTipoEvento){try{console.log(\"Antigo:\",tipoEvento.tituloTipoEvento);console.log(\"Novo:\",novoTipoEvento);await api.put(`tiposEventos/${tipoEvento.idTipoEvento}`,{tituloTipoEvento:novoTipoEvento});Swal.fire(`Evento modificado para: ${novoTipoEvento}`);}catch(error){console.error(\"Erro ao atualizar:\",error);}}}useEffect(()=>{listarTipoEvento();},[listaTipoEvento]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{nomeusu:\"Administrador\"}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(Cadastro,{tituloCadastro:\"Cadastro Tipo de Eventos\",namePlace:\"Titulo\",visibilidade:\"none\",imagem:Banner,funcCadastro:cadastrarTipoEvento,valorInput:tipoEvento,setValorInput:setTipoEvento}),/*#__PURE__*/_jsx(Lista,{titulo:\"Lista tipo de Eventos\",lista:listaTipoEvento,tipoLista:\"TiposEventos\",chaveNome:\"tituloTipoEvento\",chaveId:\"idTipoEvento\",nomePlace:\"Titulo\",visibilidadeD:\"none\",visibilidade2:\"none\",funcEditar:atualizarTipoEvento,funcExcluir:excluirTipoEvento,titulocoluna1:\"Titulo\",titulocoluna3:\"Editar\",titulocoluna4:\"Excluir\"})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default CadastroTipoEvento;","map":{"version":3,"names":["Header","Footer","Cadastro","Lista","Banner","api","useEffect","useState","Swal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CadastroTipoEvento","tipoEvento","setTipoEvento","listaTipoEvento","setListaTipoEvento","alertar","icone","mensagem","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","onmouseenter","stopTimer","onmouseleave","resumeTimer","fire","icon","title","cadastrarTipoEvento","evt","preventDefault","trim","post","tituloTipoEvento","error","console","log","listarTipoEvento","resposta","get","data","excluirTipoEvento","idTipoEvento","swalWithBootstrapButtons","customClass","confirmButton","cancelButton","buttonsStyling","result","text","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","isConfirmed","delete","dismiss","DismissReason","cancel","atualizarTipoEvento","value","novoTipoEvento","input","inputLabel","inputValue","inputValidator","put","children","nomeusu","tituloCadastro","namePlace","visibilidade","imagem","funcCadastro","valorInput","setValorInput","titulo","lista","tipoLista","chaveNome","chaveId","nomePlace","visibilidadeD","visibilidade2","funcEditar","funcExcluir","titulocoluna1","titulocoluna3","titulocoluna4"],"sources":["C:/Users/50526683848/Desktop/ReactEvent/event/src/pages/cadastroTipoEvento/cadastroTipoEvento.jsx"],"sourcesContent":["import Header from \"../../components/header/Header\";\r\nimport Footer from \"../../components/footer/Footer\";\r\nimport Cadastro from \"../../components/cadastro/Cadastro\";\r\nimport Lista from \"../../components/lista/Lista\";\r\nimport Banner from \"../../assets/img/evento.png\"\r\n\r\nimport api from \"../../Services/services\"\r\nimport { useEffect, useState } from \"react\";\r\nimport Swal from 'sweetalert2'\r\n\r\nconst CadastroTipoEvento = () => {\r\n\r\n    const [tipoEvento, setTipoEvento] = useState(\"\");\r\n    const [listaTipoEvento, setListaTipoEvento] = useState([]);\r\n    // const [atualizaTipoEvento, setAtualizarTipoEvento] = useState(false);\r\n\r\n    function alertar(icone, mensagem) {\r\n        const Toast = Swal.mixin({\r\n            toast: true,\r\n            position: \"top-end\",\r\n            showConfirmButton: false,\r\n            timer: 3000,\r\n            timerProgressBar: true,\r\n            didOpen: (toast) => {\r\n                toast.onmouseenter = Swal.stopTimer;\r\n                toast.onmouseleave = Swal.resumeTimer;\r\n            }\r\n        });\r\n        Toast.fire({\r\n            icon: icone,\r\n            title: mensagem\r\n        });\r\n    }\r\n\r\n    async function cadastrarTipoEvento(evt) {\r\n\r\n        evt.preventDefault();\r\n\r\n        if (tipoEvento.trim() !== \"\") {\r\n            try {\r\n                await api.post(\"tiposEventos\", { tituloTipoEvento: tipoEvento })\r\n                alertar(\"success\", \"Sucesso! Cadastro realizado com sucesso!\");\r\n                setTipoEvento(\"\")\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n\r\n            }\r\n        } else {\r\n            alertar(\"error\", \"Erro! Preencha os campos\")\r\n        }\r\n    }\r\n\r\n\r\n    async function listarTipoEvento() {\r\n        try {\r\n            const resposta = await api.get(\"tiposEventos\");\r\n            setListaTipoEvento(resposta.data);\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n\r\n    async function excluirTipoEvento(idTipoEvento) {\r\n        const swalWithBootstrapButtons = Swal.mixin({\r\n            customClass: {\r\n                confirmButton: \"btn btn-success\",\r\n                cancelButton: \"btn btn-danger\"\r\n            },\r\n            buttonsStyling: true\r\n        });\r\n\r\n        const result = await swalWithBootstrapButtons.fire({\r\n            title: \"Você tem certeza?\",\r\n            text: \"Não será possível reverter!\",\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Sim, deletar!\",\r\n            cancelButtonText: \"Cancelar\",\r\n            reverseButtons: true\r\n        });\r\n        if (result.isConfirmed) {\r\n            try {\r\n                await api.delete(`tiposEventos/${idTipoEvento.idTipoEvento}`);\r\n                swalWithBootstrapButtons.fire(\r\n                    \"Deletado!\",\r\n                    \"O evento foi deletado com sucesso.\",\r\n                    \"success\"\r\n                );\r\n                listarTipoEvento();\r\n            } catch (error) {\r\n                console.log(error);\r\n                Swal.fire(\"Erro!\", \"Não foi possível deletar o evento.\", \"error\");\r\n            }\r\n        } else if (result.dismiss === Swal.DismissReason.cancel) {\r\n            swalWithBootstrapButtons.fire(\r\n                \"Cancelado\",\r\n                \"O evento não foi deletado.\",\r\n                \"error\"\r\n            );\r\n        }\r\n    }\r\n\r\n    async function atualizarTipoEvento(tipoEvento) {\r\n        console.log(tipoEvento);\r\n\r\n        const { value: novoTipoEvento } = await Swal.fire({\r\n            title: \"Digite o novo gênero\",\r\n            input: \"text\",\r\n            inputLabel: \"Novo gênero\",\r\n            inputValue: tipoEvento.tituloTipoEvento,\r\n            showCancelButton: true,\r\n            inputValidator: (value) => {\r\n                if (!value) {\r\n                    return \"O campo não pode estar vazio!\";\r\n                }\r\n            }\r\n        });\r\n\r\n        if (novoTipoEvento) {\r\n            try {\r\n                console.log(\"Antigo:\", tipoEvento.tituloTipoEvento);\r\n                console.log(\"Novo:\", novoTipoEvento);\r\n\r\n                await api.put(`tiposEventos/${tipoEvento.idTipoEvento}`, {\r\n                    tituloTipoEvento: novoTipoEvento\r\n                });\r\n\r\n\r\n                Swal.fire(`Evento modificado para: ${novoTipoEvento}`);\r\n            } catch (error) {\r\n                console.error(\"Erro ao atualizar:\", error);\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    useEffect(() => {\r\n        listarTipoEvento();\r\n    }, [listaTipoEvento]);\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header nomeusu=\"Administrador\" />\r\n            <main>\r\n                <Cadastro\r\n                    tituloCadastro=\"Cadastro Tipo de Eventos\"\r\n                    namePlace=\"Titulo\"\r\n                    visibilidade=\"none\"\r\n                    imagem={Banner}\r\n                    funcCadastro={cadastrarTipoEvento}\r\n                    valorInput={tipoEvento}\r\n                    setValorInput={setTipoEvento}\r\n                />\r\n\r\n                <Lista\r\n                   titulo=\"Lista tipo de Eventos\"\r\n                    lista={listaTipoEvento}\r\n                    tipoLista=\"TiposEventos\"\r\n                    chaveNome=\"tituloTipoEvento\"\r\n                    chaveId=\"idTipoEvento\"\r\n                    nomePlace=\"Titulo\"\r\n                    visibilidadeD=\"none\"\r\n                    visibilidade2=\"none\"\r\n                    funcEditar={atualizarTipoEvento}\r\n                    funcExcluir={excluirTipoEvento}\r\n                    titulocoluna1= \"Titulo\"\r\n                    \r\n                    titulocoluna3= \"Editar\"\r\n                    titulocoluna4= \"Excluir\"\r\n                    \r\n                />\r\n\r\n            </main>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CadastroTipoEvento;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}